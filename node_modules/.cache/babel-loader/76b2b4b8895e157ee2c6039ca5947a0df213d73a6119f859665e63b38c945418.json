{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alan\\\\Desktop\\\\techChallenge\\\\challenge-5\\\\tech-challenge-5-fiap\\\\src\\\\components\\\\Kanban.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Kanban() {\n  _s();\n  const [newTask, setNewTask] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [inputError, setInputError] = useState(false);\n  const [tasks, setTasks] = useState({\n    todo: [],\n    doing: [],\n    done: []\n  });\n  const inputRef = useRef(null);\n  const timerRef = useRef(null);\n  function startInactivityTimer() {\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(() => {\n      if (inputRef.current && inputRef.current === document.activeElement && inputRef.current.value.trim() === '') {\n        setShowAlert(true);\n      }\n    }, 15000);\n  }\n  function resetAlertAndRestart() {\n    setShowAlert(false);\n    startInactivityTimer();\n  }\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.addEventListener('focus', startInactivityTimer);\n      inputRef.current.addEventListener('input', startInactivityTimer);\n    }\n    return () => {\n      if (inputRef.current) {\n        inputRef.current.removeEventListener('focus', startInactivityTimer);\n        inputRef.current.removeEventListener('input', startInactivityTimer);\n      }\n      clearTimeout(timerRef.current);\n    };\n  }, []);\n  function addTask() {\n    if (!newTask.trim()) {\n      setInputError(true);\n      return;\n    }\n    setTasks({\n      ...tasks,\n      todo: [...tasks.todo, newTask]\n    });\n    setNewTask('');\n    setInputError(false);\n  }\n  function onDragStart(e, column, index) {\n    e.dataTransfer.setData('source', JSON.stringify({\n      column,\n      index\n    }));\n  }\n  function onDrop(e, target) {\n    const data = JSON.parse(e.dataTransfer.getData('source'));\n    if (!data) return;\n    const moved = tasks[data.column][data.index];\n    const newData = {\n      todo: [...tasks.todo],\n      doing: [...tasks.doing],\n      done: [...tasks.done]\n    };\n    newData[data.column].splice(data.index, 1);\n    newData[target].push(moved);\n    setTasks(newData);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"kanban\",\n    children: [showAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: resetAlertAndRestart,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F Pausa Cognitiva\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Voc\\xEA est\\xE1 h\\xE1 bastante tempo parado nesta a\\xE7\\xE3o. Que tal respirar um pouco?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: resetAlertAndRestart,\n          children: \"Continuar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: newTask,\n        onChange: e => {\n          setNewTask(e.target.value);\n          if (e.target.value.trim() !== '') setInputError(false);\n        },\n        placeholder: inputError ? \"Nome da tarefa obrigatório\" : \"Digite uma tarefa...\",\n        className: `task-input ${inputError ? \"error\" : \"\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn add\",\n        onClick: addTask,\n        children: \"Adicionar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), Object.entries(tasks).map(([key, list]) => {\n      const typedKey = key;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        onDragOver: e => e.preventDefault(),\n        onDrop: e => onDrop(e, typedKey),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: key === 'todo' ? 'A Fazer' : key === 'doing' ? 'Em Progresso' : 'Concluído'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), list.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `card ${key === 'doing' ? 'pulse' : ''} ${key === 'done' ? 'done' : ''}`,\n          draggable: key !== 'done',\n          onDragStart: e => onDragStart(e, typedKey, i),\n          contentEditable: key !== 'done',\n          suppressContentEditableWarning: true,\n          children: item\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this))]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(Kanban, \"5ztnd9bSaseNJna5sqb8I5xWe2M=\");\n_c = Kanban;\nvar _c;\n$RefreshReg$(_c, \"Kanban\");","map":{"version":3,"names":["useEffect","useRef","useState","jsxDEV","_jsxDEV","Kanban","_s","newTask","setNewTask","showAlert","setShowAlert","inputError","setInputError","tasks","setTasks","todo","doing","done","inputRef","timerRef","startInactivityTimer","clearTimeout","current","setTimeout","document","activeElement","value","trim","resetAlertAndRestart","addEventListener","removeEventListener","addTask","onDragStart","e","column","index","dataTransfer","setData","JSON","stringify","onDrop","target","data","parse","getData","moved","newData","splice","push","className","children","onClick","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","placeholder","Object","entries","map","key","list","typedKey","onDragOver","preventDefault","item","i","draggable","contentEditable","suppressContentEditableWarning","_c","$RefreshReg$"],"sources":["C:/Users/Alan/Desktop/techChallenge/challenge-5/tech-challenge-5-fiap/src/components/Kanban.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\ntype Tasks = {\n  todo: string[];\n  doing: string[];\n  done: string[];\n};\n\nexport default function Kanban() {\n  const [newTask, setNewTask] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [inputError,setInputError] = useState(false);\n\n  const [tasks, setTasks] = useState<Tasks>({\n    todo: [],\n    doing: [],\n    done: []\n  });\n\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const timerRef = useRef<any>(null);\n\n  function startInactivityTimer() {\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(() => {\n      if(inputRef.current && inputRef.current === document.activeElement && inputRef.current.value.trim() === '') {\n        setShowAlert(true);\n      }\n    }, 15000);\n  }\n\n  function resetAlertAndRestart() {\n    setShowAlert(false);\n    startInactivityTimer();\n  }\n\n  useEffect(() => {\n    if(inputRef.current) {\n      inputRef.current.addEventListener('focus', startInactivityTimer);\n      inputRef.current.addEventListener('input', startInactivityTimer);\n    }\n\n    return () => {\n      if(inputRef.current) {\n        inputRef.current.removeEventListener('focus', startInactivityTimer);\n        inputRef.current.removeEventListener('input', startInactivityTimer);\n      }\n      clearTimeout(timerRef.current);\n    };\n  }, []);\n\n  function addTask() {\n    if(!newTask.trim()) {\n      setInputError(true);\n      return;\n    }\n\n    setTasks({\n      ...tasks,\n      todo: [...tasks.todo, newTask]\n    });\n\n    setNewTask('');\n    setInputError(false);\n  }\n\n  function onDragStart(e: React.DragEvent<HTMLDivElement>, column: keyof Tasks, index: number) {\n    e.dataTransfer.setData('source', JSON.stringify({ column, index }));\n  }\n\n  function onDrop(e: React.DragEvent<HTMLDivElement>, target: keyof Tasks) {\n    const data = JSON.parse(e.dataTransfer.getData('source'));\n    if (!data) return;\n\n    const moved = tasks[data.column][data.index];\n\n    const newData: Tasks = {\n      todo: [...tasks.todo],\n      doing: [...tasks.doing],\n      done: [...tasks.done]\n    };\n\n    newData[data.column].splice(data.index, 1);\n    newData[target].push(moved);\n\n    setTasks(newData);\n  }\n\n  return (\n    <section className=\"kanban\">\n\n      {showAlert && (\n        <div className=\"modal-overlay\" onClick={resetAlertAndRestart}>\n          <div className=\"modal\" onClick={(e)=>e.stopPropagation()}>\n            <h2>⚠️ Pausa Cognitiva</h2>\n            <p>Você está há bastante tempo parado nesta ação. Que tal respirar um pouco?</p>\n            <button className=\"btn primary\" onClick={resetAlertAndRestart}>\n              Continuar\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"add-area\">\n        <input\n          ref={inputRef}\n          value={newTask}\n          onChange={e => {\n            setNewTask(e.target.value);\n            if(e.target.value.trim() !== '') setInputError(false);\n          }}\n          placeholder={inputError ? \"Nome da tarefa obrigatório\" : \"Digite uma tarefa...\"}\n          className={`task-input ${inputError ? \"error\" : \"\"}`}\n        />\n\n        <button className=\"btn add\" onClick={addTask}>\n          Adicionar\n        </button>\n      </div>\n\n      {Object.entries(tasks).map(([key, list]) => {\n        const typedKey = key as keyof Tasks;\n\n        return (\n          <div\n            className=\"column\"\n            key={key}\n            onDragOver={(e) => e.preventDefault()}\n            onDrop={(e) => onDrop(e, typedKey)}\n          >\n            <h3>\n              {key === 'todo'\n                ? 'A Fazer'\n                : key === 'doing'\n                ? 'Em Progresso'\n                : 'Concluído'}\n            </h3>\n\n            {list.map((item, i) => (\n              <div\n                className={`card ${key === 'doing' ? 'pulse' : ''} ${key === 'done' ? 'done' : ''}`}\n                key={i}\n                draggable={key !== 'done'}\n                onDragStart={(e) => onDragStart(e, typedKey, i)}\n                contentEditable={key !== 'done'}\n                suppressContentEditableWarning\n              >\n                {item}\n              </div>\n            ))}\n          </div>\n        );\n      })}\n    </section>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}